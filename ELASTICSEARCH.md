# Analyze text with kuromoji analyzer

```
POST document/_analyze
{
  "analyzer": "ja_kuromoji_index_analyzer",
  "text":     "力から脅威を受けたり被害を受けたりするおそれのある場合には、組織全体として速やかに対処できる体制を整備しております。さらにデータベース検索を利用して取引先等の反社会的勢力のチェックを適時行い、懸念が残る場合は、調査会社等に調査依頼を行ったり、必要に応じて警察等へ照会を行ったりすることで取引先等が反社会的勢力に該当するか否か把握に努め、反社会的勢力と判明した場合は取引を中止することとしております。Ⅴその他１．買収防衛策の導入の有無買収防衛策の導入の有無なし該当項目に関する補足説明―――２．その他コーポレート・ガバナンス体制等に関する事項当社の会社情報の適時開示に係る社内体制の状況は、次のとおりであります。１．適時開示に係る意思決定体制原則として月1回取締役会を開催するほか、重要な案件が発生したときは、随時臨時取締役会を開催し、迅速な意思決定を行っております。２．社内体制(1) 取締役会等で決議された「決定事実」については、適時開示の対象となる重要事実の有無を、情報取扱責任者である管理部門、コンプライア"
}
```

# Search Company

```
GET company/_search
{
  "_source": ["company_name", "edinet_code", "security_code", "company_address", "industry"],
  "query": {
    "bool": {
      "must" : {
        "match": {
          "company_name": {
            "query": "fixer"
          }
        }
      }
    }
  }
}
```

# Search Document

```
GET document/_search
{
  "_source": ["material_type", "file_name", "company.edinet_code", "company.company_name"],
  "query": {
    "bool": {
      "must" : {
        "match": {
          "company.company_name": {
            "query": "fixer"
          }
        }
      }
    }
  },
  "collapse": {
    "field": "company.edinet_code"
  }
}
```

# Search Document

```
GET document/_search
{
  "_source": ["material_type", "file_name", "company.edinet_code", "company.company_name"],
  "query": {
    "bool": {
      "must" : {
        "match": {
          "content": {
            "query": "力から脅威を受けたり被害を受けたりするおそれのある場合には、組織全体として速やかに対処できる体制を整備しております。さらにデータベース検索を利用して取引先等の反社会的勢力のチェックを適時行い、懸念が残る場合は、調査会社等に調査依頼を行ったり、必要に応じて警察等へ照会を行ったりすることで取引先等が反社会的勢力に該当するか否か把握に努め、反社会的勢力と判明した場合は取引を中止することとしております。Ⅴその他１．買収防衛策の導入の有無買収防衛策の導入の有無なし該当項目に関する補足説明―――２．その他コーポレート・ガバナンス体制等に関する事項当社の会社情報の適時開示に係る社内体制の状況は、次のとおりであります。１．適時開示に係る意思決定体制原則として月1回取締役会を開催するほか、重要な案件が発生したときは、随時臨時取締役会を開催し、迅速な意思決定を行っております。２．社内体制(1) 取締役会等で決議された「決定事実」については、適時開示の対象となる重要事実の有無を、情報取扱責任者である管理部門、コンプライア"
          }
        }
      }
    }
  }
}
```

# Search Document with vector

```
GET document/_search
{
  "_source": ["material_type", "file_name", "company.edinet_code", "company.company_name"],
  "knn": {
    "field": "content_vector",
    "k": 5,
    "num_candidates": 5,
    "query_vector": [-0.07156393676996231, 0.022251185029745102, 0.013389856554567814, 0.0079099265858531, 0.022657902911305428, 0.03147108852863312, -0.007395416963845491, -0.01503506675362587, 0.045505981892347336, -0.0031328522600233555, -1.4947563613532111e-05, -0.01826976053416729, 0.026206636801362038, 0.008371551521122456, 0.00472603365778923, 0.03594869002699852, 0.06325969845056534, -0.03281322121620178, 0.028289206326007843, 0.07296210527420044, -0.0040693688206374645, -0.0684937909245491, -0.01688283495604992, -0.009415363892912865, -0.07295594364404678, 9.599325858289376e-05, -0.029023580253124237, 0.04647978022694588, 0.07400518655776978, 0.040416087955236435, 0.042917367070913315, 0.02822152152657509, -0.041513726115226746, -0.05221550911664963, 0.04330279305577278, 0.02978558838367462, 0.027955513447523117, 0.021007312461733818, -0.02356426604092121, -0.04328072816133499, 0.05232180655002594, 0.0655844584107399, 0.05524008721113205, 0.0007515934994444251, 0.007374534849077463, -0.05775982141494751, 0.07876329123973846, -0.03340666741132736, -0.03961600735783577, -0.043853674083948135, -0.0011559949489310384, -0.050766635686159134, -0.018003009259700775, 0.035965412855148315, -0.025921981781721115, -0.034602969884872437, -0.04820531606674194, 0.0542679987847805, 0.03930825740098953, -0.04129753261804581, -0.04201636463403702, 0.05989241600036621, 0.041143398731946945, -0.03461402654647827, -0.054701995104551315, 0.01993926428258419, 0.051234304904937744, 0.02190287783741951, 0.0337565653026104, -0.036511413753032684, -0.030796637758612633, 0.0035883025266230106, -0.012669852003455162, 0.042816564440727234, -0.011050276458263397, 0.021029284223914146, 0.06769175827503204, 0.02596265822649002, -0.022834552451968193, -0.07774661481380463, -0.07804778218269348, 0.06051552668213844, 0.012039330787956715, 0.04558544233441353, -0.006901010405272245, -0.053985659033060074, -0.007163466885685921, 0.05507449433207512, -0.0603068470954895, 0.009996868669986725, -0.04701945185661316, 0.05357865244150162, 0.007362972944974899, 0.053290482610464096, 0.031187038868665695, 0.036051150411367416, 0.02120155282318592, 0.04283151775598526, 0.054215990006923676, 0.013360869139432907, -0.00484610628336668, -0.04780692607164383, 0.07018563896417618, 0.059866007417440414, 0.06973639875650406, -0.05543679744005203, -0.058196771889925, -0.003564069978892803, 0.04602637514472008, 0.006074808072298765, 0.044907692819833755, 0.06611784547567368, -0.05438150838017464, -0.033124107867479324, 0.07211869210004807, 0.04864977300167084, 0.05993328616023064, -0.07488394528627396, 0.06406431645154953, -0.014816814102232456, -0.05094871297478676, 0.06322912126779556, -0.005639064125716686, -0.05935140699148178, 0.008848939090967178, 0.0590299516916275, 0.01867535524070263, 0.07730315625667572, -0.07141701877117157, -0.0426531620323658, 0.004339362494647503, -0.04483136162161827, -0.02720257081091404, -0.03672147914767265, -0.056027401238679886, 0.06929615885019302, 0.05277758464217186, -0.03428706154227257, 0.07468391954898834, 0.015339359641075134, 0.04032285138964653, 0.01947072707116604, 0.032154910266399384, -0.009214880876243114, 0.046993326395750046, -0.05679021030664444, -0.0019900358747690916, 0.024673862382769585, 0.07292337715625763, -0.031183885410428047, -0.06643050163984299, -0.04644995927810669, -0.028511185199022293, -0.04985295236110687, -0.04034949839115143, -0.04706327244639397, 0.041767049580812454, 0.020448623225092888, 0.052150875329971313, -0.033036451786756516, 0.03525056317448616, -0.07180468738079071, -0.02950422279536724, 0.021277090534567833, -0.06946733593940735, -0.00865108147263527, 0.039118245244026184, 0.043111976236104965, -0.03117668256163597, -0.03563305363059044, 0.06101883575320244, -0.005378704518079758, -0.0403907485306263, -0.005853643175214529, -0.02287091128528118, 0.04809052124619484, -0.04634875804185867, 0.01754448004066944, -0.004093349911272526, 0.07362572848796844, 0.025864621624350548, -0.05946392938494682, -0.02194834314286709, -0.06703080981969833, -0.023419728502631187, 0.048269666731357574, -0.01788667030632496, 0.0597291924059391, -0.005117007065564394, -0.0041509284637868404, 0.016202842816710472, -0.038328010588884354, 0.023829320445656776, -0.06524503231048584, 0.051246240735054016, 0.06423630565404892, -0.002472423482686281, -0.017798488959670067, 0.031204834580421448, 0.050162456929683685, 0.04031988978385925, -0.06323078274726868, -0.06851927936077118, -0.0725037008523941, 0.05604485794901848, 0.06817900389432907, -0.05147439241409302, -0.06868650764226913, 0.022259162738919258, 0.006823417730629444, 0.06426969915628433, -0.008719232864677906, 0.0561772882938385, -0.04831961914896965, -0.001953150611370802, -0.04687630385160446, 0.06209439039230347, -0.05832616612315178, 0.012439687736332417, -0.008877121843397617, -0.056334689259529114, 0.036806270480155945, -0.014530979096889496, 0.0038418499752879143, -0.040727876126766205, -0.014233273454010487, -0.0637064278125763, -0.02319122850894928, 0.009033401496708393, 0.01943829469382763, 0.009943515993654728, -0.06970985978841782, -0.06635266542434692, 0.021247077733278275, -0.02986668422818184, -0.040104351937770844, -0.004923403263092041, -0.051512423902750015, 0.04560686647891998, 0.030766265466809273, 0.045206379145383835, -0.03568367660045624, -0.03166517615318298, -0.007168630603700876, 0.024917785078287125, 0.05369579792022705, 0.05308579280972481, 0.023980211466550827, 0.05540734902024269, -0.0627245083451271, -0.00843497458845377, -0.0007368669612333179, -0.04325651749968529, -0.04451631009578705, 0.05160802602767944, -0.06189428269863129, 0.0447264201939106, 0.015232237055897713, -0.052933063358068466, 0.04596729949116707, 0.07188677787780762, 0.06788846105337143, 0.03355403617024422, 0.05731397867202759, 0.06939227879047394, -0.0749657154083252, 0.052771326154470444, 0.003769087139517069, -0.06175544485449791, -0.03320875018835068, 0.054981548339128494, -0.05224478989839554, -0.026983555406332016, -0.06879638880491257, -0.02168809249997139, -0.042483165860176086, 0.05155178904533386, 0.051896318793296814, -0.06951513886451721, -0.0342649444937706, 0.005861752200871706, -0.05715504288673401, 0.010905809700489044, -0.03249295428395271, -0.019808897748589516, -0.044086456298828125, -0.06662420928478241, -0.03870547190308571, 0.06213723123073578, 0.06527087837457657, -0.06409293413162231, 0.052385516464710236, 0.060695581138134, 0.04050304740667343, 0.027842385694384575, -0.011622206307947636, 0.05966654047369957, -0.02941792830824852, 0.04148874059319496, 0.016349907964468002, 0.04458262771368027, 0.009061620570719242, -0.009071996435523033, -0.0643947497010231, -0.04686635732650757, -0.07241018116474152, 0.050405196845531464, 0.033752575516700745, -0.037327416241168976, -0.0672503411769867, -0.041870974004268646, 0.06023268774151802, -0.05410175770521164, 0.011906017549335957, 0.05877656862139702, 0.030844347551465034, 0.028985634446144104, -0.04375353455543518, 0.038574304431676865, -0.07605648040771484, -0.003287350060418248, 0.06802710145711899, 0.04768312722444534, -0.018909292295575142, 0.05672939866781235, -0.03696279227733612, -0.03238939866423607, 0.018686432391405106, 0.01052389107644558, 0.057434190064668655, -0.01934869959950447, -0.024393409490585327, 0.032659392803907394, 0.015623246319591999, 0.0735781267285347, -0.03921489417552948, 0.03349639102816582, -0.03803551197052002, -0.0763562023639679, -0.03159715235233307, -0.05696868523955345, -0.05702895671129227, -0.01498629804700613, -0.0749090239405632, 0.06864531338214874, -0.02871480956673622, 0.00905444473028183, 0.04990231990814209, -0.036219511181116104, -0.060220442712306976, 0.01735146902501583, -0.0066518220119178295, 0.0544816218316555, 0.053511664271354675, 0.05296194553375244, 0.07478775084018707, 0.022608961910009384, -0.0399283729493618, 0.05423949658870697, -0.008730134926736355, 0.025111036375164986, 0.05553063750267029, -0.025477753952145576, 0.07764668762683868, -0.00868156272917986, -0.0598783865571022, 0.037261076271533966, 0.02639468014240265, -0.02488868124783039, -0.01785411313176155, -0.03976145759224892, 0.04106886312365532, -0.055040132254362106, 0.07218939810991287, -0.03018086776137352, 0.043376363813877106, 0.03940477967262268, 0.03387310355901718, 0.022223401814699173, 0.06336421519517899, 0.060406316071748734, -0.044116873294115067, -0.03904673457145691, -0.04223054647445679, -0.019611235707998276, 0.03845098242163658, 0.03911663964390755, -0.010852020233869553, 0.06502019613981247, 0.0008063297136686742, -0.012567894533276558, 0.061092834919691086, -0.06050047278404236, 0.029389940202236176, -0.03006720170378685, -0.011760922148823738, 0.0703665092587471, 0.058303870260715485, -0.043444667011499405, 0.04330072179436684, 0.051516056060791016, 0.07606865465641022, 0.06345395743846893, 0.043361928313970566, 0.06887377798557281, -0.011482594534754753, 0.061760734766721725, -0.027801113203167915, 0.02122173272073269, 0.005505864042788744, 0.006052548065781593, -0.020541727542877197, 0.05627002194523811, 0.029320545494556427, 0.04803819954395294, 0.015312423929572105, -0.017345694825053215, -0.0363614559173584, -0.03965670242905617, -0.019658150151371956, -0.047545094043016434, -0.06546007841825485, -0.02335210144519806, 0.07149661332368851, -0.021928679198026657, -0.02433343417942524, -0.07528948038816452, -0.03810185566544533, -0.02646738477051258, -0.04340123385190964, -0.03111562505364418, -0.007299045100808144, 0.021348917856812477, -0.02921679988503456, 0.019941778853535652, -0.030146922916173935, 0.0003100713365711272, -0.01335947960615158, -0.043340131640434265, -0.03001473844051361, 0.07262209802865982, -0.039606086909770966, -0.05953992158174515, -0.03786082938313484, -0.03022957593202591, 0.04586850106716156, 0.05303821340203285, -0.0772244930267334, -0.015788013115525246, 0.018334466964006424, -0.007309034466743469, -0.01986159384250641, 0.04471287503838539, -0.01928519830107689, -0.06548849493265152, 0.05037778988480568, -0.012385309673845768, -0.04136921465396881, -0.01233577262610197, -0.05180193483829498, -0.035396281629800797, -0.06075901910662651, -0.03738250583410263, -0.024826394394040108, 0.03983799368143082, -0.07241225242614746, -0.009012941271066666, -0.047181904315948486, 0.07240276783704758, -0.04058512672781944, 0.04115090146660805, -0.06996025145053864, 0.024174366146326065, 0.02278129756450653, -0.04501364380121231, -0.0027435936499387026, 0.051478032022714615, 0.004819236695766449, -0.01015065610408783, -0.011704683303833008, -0.025096910074353218, 0.07805736362934113, -0.039581265300512314, 0.07240723073482513, -0.06633313745260239, -0.056229714304208755, -0.06964094936847687, -0.02527502551674843, -0.03568102419376373, 0.04223969578742981, 0.0035426830872893333, -0.017977582290768623, 0.062278345227241516, 0.02726992405951023, 0.01597847044467926, -0.07741499692201614, 0.0667109340429306, -0.06380077451467514, -0.009916634298861027, 0.037810903042554855, -0.012252865359187126, -0.01230697613209486, 0.055163610726594925, 0.057463664561510086, 0.0007911334978416562, -0.0045435610227286816, 0.006907441653311253, -0.07093430310487747, -0.06309781968593597, -0.0633014366030693, 0.00371050788089633, 0.009860152378678322]
  }
}
```
